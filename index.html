<!DOCTYPE html>
<html>
  <body>
    <div
      style="
        height: 100vh;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      "
    >
      <button id="spin" style="padding: 8px 16px; font-size: 16px">Spin</button>
    </div>
    <script src="http://localhost:5000/socket.io/socket.io.js"></script>

    <script>
      const socket = io("http://localhost:5000", {
        auth: {
          token:
            "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InBsYXllcjMiLCJkZXNpZ25hdGlvbiI6InBsYXllciIsImlhdCI6MTcxODk2NTg0MywiZXhwIjoxNzE5NTcwNjQzfQ._UBfSvbYuQCsikCObrFJ-GaYXc4vYcIaxQ6KkJkYlek",
        },
      });
      socket.on("connect_error", (error) => {
        console.error("Connection Error:", error.message);
        socket.emit(
          "AUTH",
          JSON.stringify({
            data: {},
          })
        );
      });

      socket.on("connect", () => {
        console.log("Connected to the server");

        socket.on("message", (message) => {
          console.log(message);
        });

        socket.on("InternalError", (errorMessage) => {
          console.log(errorMessage);
        });

        const spinHanlder = () => {
          socket.emit(
            "message",
            JSON.stringify({
              id: "SPIN",
              data: {
                currentBet: 1,
              },
            })
          );
        };
      });

      const button = document.getElementById("spin");
      button.addEventListener("click", spinHanlder);
    </script>
  </body>
</html>
